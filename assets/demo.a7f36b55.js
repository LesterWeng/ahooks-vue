var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(a,e)=>{for(var t in e||(e={}))r.call(e,t)&&l(a,t,e[t]);if(n)for(var t of n(e))i.call(e,t)&&l(a,t,e[t]);return a};import{g as u,i as c,q as p,h as s,o as g,c as d,F as f,n as m,t as S,M as b,r as z,b as v,y,d as P}from"./app.96d8b727.js";import"./index.d99f697a.js";import{u as O,R as j}from"./index.301c4fdf.js";const h={current:1,pageSize:10};function x(a,l={}){var g,d,f;let m={};u()&&(m=null!=(g=c(j))?g:{});const S=o(o({defaultPagination:h},m),l),b=p({current:S.defaultPagination.current,pageSize:S.defaultPagination.pageSize,total:null!=(f=(null!=(d=S.initialData)?d:[]).length)?f:0,totalPage:0}),z=O(a,(k=o({defaultParams:[{current:b.current,pageSize:b.pageSize}]},S),e(k,t({onSuccess(a,e){b.total=a.total,b.totalPage=Math.ceil(a.total/b.pageSize),S.onSuccess&&S.onSuccess(a,e)}})))),{data:v,run:y,params:P}=z,x=((a,e)=>{var t={};for(var l in a)r.call(a,l)&&e.indexOf(l)<0&&(t[l]=a[l]);if(null!=a&&n)for(var l of n(a))e.indexOf(l)<0&&i.call(a,l)&&(t[l]=a[l]);return t})(z,["data","run","params"]);var k;return s([()=>b.current,()=>b.pageSize],(()=>{y(b,...P.value.slice(1))})),o({data:v,pagination:b,run:y,params:P},x)}var k={props:{total:Number,current:Number,pageSize:{type:Number,default:10}},emits:["update:current"],setup:(a,{emit:e})=>({changeCurrent:function(t){t!==a.current&&e("update:current",t)}})};k.render=function(a,e,t,n,r,i){return g(),d("div",null,[(g(!0),d(f,null,m(Array(Math.ceil(t.total/t.pageSize)),((a,e)=>(g(),d("button",{key:e,onClick:a=>n.changeCurrent(e+1),style:{marginRight:"4px",color:t.current===e+1?"#407cff":""}},S(e+1),13,["onClick"])))),128))])};async function w(a){return new Promise((e=>{setTimeout((()=>{var t;e((a.current,t=a.pageSize,b.mock({total:55,[`list|${t}`]:[{id:"@guid",name:"@cname","gender|1":["male","female"],email:"@email",disabled:!1}]})))}),1e3)}))}var C={components:{Pagination:k},setup(){const{pagination:a,loading:e,data:t}=x((({current:a,pageSize:e})=>w({current:a,pageSize:e})));return{pagination:a,loading:e,data:t}}};const M={key:0,style:{"font-size":"14px"}},N=P(" - ");C.render=function(a,e,t,n,r,i){var l;const o=z("Pagination");return g(),d("div",null,[v("p",null,"loading: "+S(n.loading),1),v(o,{current:n.pagination.current,"onUpdate:current":e[1]||(e[1]=a=>n.pagination.current=a),pageSize:n.pagination.pageSize,"onUpdate:pageSize":e[2]||(e[2]=a=>n.pagination.pageSize=a),total:n.pagination.total},null,8,["current","pageSize","total"]),!n.loading&&n.data?(g(),d("ul",M,[(g(!0),d(f,null,m(null==(l=n.data)?void 0:l.list,(a=>(g(),d("li",{key:a.id},[v("span",null,S(a.name),1),N,v("span",null,S(a.email),1)])))),128))])):y("",!0)])};export{C as _};
