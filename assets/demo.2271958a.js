var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,o=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&l(e,t,a[t]);if(n)for(var t of n(a))i.call(a,t)&&l(e,t,a[t]);return e};import{g as u,i as c,q as p,h as s,o as g,c as d,F as f,n as m,t as S,M as b,r as z,b as v,y,d as P}from"./app.988e7912.js";import"./index.b36f4fe7.js";import{u as O,R as j}from"./index.4226d8b3.js";const h={current:1,pageSize:10};function x(e,l={}){var g,d,f;let m={};u()&&(m=null!=(g=c(j))?g:{});const S=o(o({defaultPagination:h},m),l),b=p({current:S.defaultPagination.current,pageSize:S.defaultPagination.pageSize,total:null!=(f=(null!=(d=S.initialData)?d:[]).length)?f:0,totalPage:0}),z=O(e,(k=o({defaultParams:[{current:b.current,pageSize:b.pageSize}]},S),a(k,t({onSuccess(e,a){b.total=e.total,b.totalPage=Math.ceil(e.total/b.pageSize),S.onSuccess&&S.onSuccess(e,a)}})))),{data:v,run:y,params:P}=z,x=((e,a)=>{var t={};for(var l in e)r.call(e,l)&&a.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&n)for(var l of n(e))a.indexOf(l)<0&&i.call(e,l)&&(t[l]=e[l]);return t})(z,["data","run","params"]);var k;return s([()=>b.current,()=>b.pageSize],(()=>{y(b,...P.value.slice(1))})),o({data:v,pagination:b,run:y,params:P},x)}var k={props:{total:Number,current:Number,pageSize:{type:Number,default:10}},emits:["update:current"],setup:(e,{emit:a})=>({changeCurrent:function(t){t!==e.current&&a("update:current",t)}})};k.render=function(e,a,t,n,r,i){return g(),d("div",null,[(g(!0),d(f,null,m(Array(Math.ceil(t.total/t.pageSize)),((e,a)=>(g(),d("button",{key:a,onClick:e=>n.changeCurrent(a+1),style:{marginRight:"4px",color:t.current===a+1?"#407cff":""}},S(a+1),13,["onClick"])))),128))])};async function w(e){return new Promise((a=>{setTimeout((()=>{var t;a((e.current,t=e.pageSize,b.mock({total:55,[`list|${t}`]:[{id:"@guid",name:"@cname","gender|1":["male","female"],email:"@email",disabled:!1}]})))}),1e3)}))}var C={components:{Pagination:k},setup(){const{pagination:e,loading:a,data:t}=x((({current:e,pageSize:a})=>w({current:e,pageSize:a})));return{pagination:e,loading:a,data:t}}};const M={key:0,style:{"font-size":"14px"}},N=P(" - ");C.render=function(e,a,t,n,r,i){var l;const o=z("Pagination");return g(),d("div",null,[v("p",null,"loading: "+S(n.loading),1),v(o,{current:n.pagination.current,"onUpdate:current":a[1]||(a[1]=e=>n.pagination.current=e),pageSize:n.pagination.pageSize,"onUpdate:pageSize":a[2]||(a[2]=e=>n.pagination.pageSize=e),total:n.pagination.total},null,8,["current","pageSize","total"]),!n.loading&&n.data?(g(),d("ul",M,[(g(!0),d(f,null,m(null==(l=n.data)?void 0:l.list,(e=>(g(),d("li",{key:e.id},[v("span",null,S(e.name),1),N,v("span",null,S(e.email),1)])))),128))])):y("",!0)])};export{C as _};
