var e=Object.defineProperty,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(o,t,l)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&n(e,a,r[a]);if(o)for(var a of o(r))l.call(r,a)&&n(e,a,r[a]);return e};import{e as a,E as c,h as u,G as s,c as i,b as p,t as f,u as v,o as d}from"./app.988e7912.js";import"./index.b36f4fe7.js";import{u as b}from"./index.277d7bd0.js";function y(e,o,t){var l;const{localStorageKey:n}=null!=t?t:{},[s,i]=location.hash.slice(1).split("?"),p=null!=(l="function"==typeof o?o():o)?l:{};let f=a(p);if(n&&(f=b(n,p)),i)try{const e=(v=i,c.parse(v,{decoder(e,o,t){const l=e.replace(/\+/g," ");if("iso-8859-1"===t)return l.replace(/%[0-9a-f]{2}/gi,unescape);if(/^[+-]?\d+(\.\d+)?$/.test(e))return parseFloat(e);const n={true:!0,false:!1,null:null,undefined:void 0};if(e in n)return n[e];try{return decodeURIComponent(l)}catch(r){return l}}}));console.log("解析url结果:"),console.log(e),f.value=r(r(r({},p),f.value),e)}catch{f.value=p}var v;if(o&&Object.keys(o).length){let e=r({},o);for(const o in e)o in f.value&&(e[o]=f.value[o]);f.value=e}return u(f,(()=>{const o=(t=f.value,c.stringify(t));var t;e(`${s}?${o}`),console.log("写url"),console.log(`${s}?${o}`)}),{deep:!0,immediate:!0}),f}var g=s({expose:[],setup(e){const o=y((e=>location.hash=e),{count:0,page:1},{localStorageKey:"localStorageKey"});return(e,t)=>(d(),i("div",null,[p("p",null,f(v(o)),1),p("button",{onClick:t[1]||(t[1]=e=>o.value.count++)},"count++"),p("button",{onClick:t[2]||(t[2]=e=>o.value.count--)},"count--")]))}});export{g as _};
