import{L as e,g as a,u as t,z as n,o as r,c as o,b as s,j as c,F as l,q as i,D as u,p as d,A as v,B as p,C as f,l as m,N as g}from"./framework.ce6f7686.js";import"./types.5bcbc827.js";import{a as y,i as k,b as h}from"./debounce.05bfc31b.js";import{s as b,a as x,u as w,v as j,d as C,w as L,c as z,k as N,m as O,x as P,e as S,l as _,p as D,h as V,y as A,z as J,q as B,S as M}from"./_initCloneObject.47474513.js";import{u as F}from"./index.ea59955b.js";function I(e){return e}function R(e,a,t){switch(t.length){case 0:return e.call(a);case 1:return e.call(a,t[0]);case 2:return e.call(a,t[0],t[1]);case 3:return e.call(a,t[0],t[1],t[2])}return e.apply(a,t)}var T=Date.now;var q,H,U,E=(q=b?function(e,a){return b(e,"toString",{configurable:!0,enumerable:!1,value:(t=a,function(){return t}),writable:!0});var t}:I,H=0,U=0,function(){var e=T(),a=16-(e-U);if(U=e,a>0){if(++H>=800)return arguments[0]}else H=0;return q.apply(void 0,arguments)}),G=Math.max;function Y(e,a){return E(function(e,a,t){return a=G(void 0===a?e.length-1:a,0),function(){for(var n=arguments,r=-1,o=G(n.length-a,0),s=Array(o);++r<o;)s[r]=n[a+r];r=-1;for(var c=Array(a+1);++r<a;)c[r]=n[r];return c[a]=t(s),R(e,this,c)}}(e,a,I),e+"")}var $=Function.prototype,K=Object.prototype,Q=$.toString,W=K.hasOwnProperty,X=Q.call(Object);var Z,ee=function(e,a,t){for(var n=-1,r=Object(e),o=t(e),s=o.length;s--;){var c=o[Z?s:++n];if(!1===a(r[c],c,r))break}return e};function ae(e,a,t){(void 0!==t&&!j(e[a],t)||void 0===t&&!(a in e))&&L(e,a,t)}function te(e,a){if(("constructor"!==a||"function"!=typeof e[a])&&"__proto__"!=a)return e[a]}function ne(e,a,t,n,r,o,s){var c=te(e,t),l=te(a,t),i=s.get(l);if(i)ae(e,t,i);else{var u,d=o?o(c,l,t+"",e,a,s):void 0,v=void 0===d;if(v){var p=S(l),f=!p&&O(l),m=!p&&!f&&P(l);d=l,p||f||m?S(c)?d=c:k(u=c)&&x(u)?d=_(c):f?(v=!1,d=D(l,!0)):m?(v=!1,d=V(l,!0)):d=[]:function(e){if(!k(e)||"[object Object]"!=h(e))return!1;var a=C(e);if(null===a)return!0;var t=W.call(a,"constructor")&&a.constructor;return"function"==typeof t&&t instanceof t&&Q.call(t)==X}(l)||A(l)?(d=c,A(c)?d=function(e){return z(e,N(e))}(c):y(c)&&!J(c)||(d=B(l))):v=!1}v&&(s.set(l,d),r(d,l,n,o,s),s.delete(l)),ae(e,t,d)}}function re(e,a,t,n,r){e!==a&&ee(a,(function(o,s){if(r||(r=new M),y(o))ne(e,a,s,t,re,n,r);else{var c=n?n(te(e,s),o,s+"",e,a,r):void 0;void 0===c&&(c=o),ae(e,s,c)}}),N)}var oe,se=(oe=function(e,a,t){re(e,a,t)},Y((function(e,a){var t=-1,n=a.length,r=n>1?a[n-1]:void 0,o=n>2?a[2]:void 0;for(r=oe.length>3&&"function"==typeof r?(n--,r):void 0,o&&function(e,a,t){if(!y(t))return!1;var n=typeof a;return!!("number"==n?x(t)&&w(a,t.length):"string"==n&&a in t)&&j(t[a],e)}(a[0],a[1],o)&&(r=n<3?void 0:r,n=1),e=Object(e);++t<n;){var s=a[t];s&&oe(e,s,t,r)}return e})));const ce={page:{index:1,size:10},search:{text:"",isReg:!1,keys:[]},sort:{key:"",direction:"ascend",compareFn:function(e,a){return e<a?-1:1}}};const le={},ie={t:"1603888743183",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3090",width:"16",height:"16"},ue=s("path",{d:"M512 885.6L63.6 138.4h896.8L512 885.6z","p-id":"3091",fill:"currentColor"},null,-1);le.render=function(e,a){return r(),o("svg",ie,[ue])};var de={components:{SortIcon:le},props:{columns:Object,data:Array,sort:Object},setup:e=>({onHeaderClick:function(a,t){e.sort.key=a,e.sort.direction=t}})};const ve=v("data-v-21293a80")(((e,a,t,n,v,p)=>{const f=c("SortIcon");return r(),o("div",{style:{display:"grid",gridTemplateColumns:`repeat(${Object.keys(t.columns).length}, 1fr)`}},[(r(!0),o(l,null,i(t.columns,((e,a)=>(r(),o("span",{key:a,class:"column sortable-header"},[u(d(e)+" ",1),s(f,{class:["icon",t.sort.key===a?"active":"",t.sort.direction],onClick:e=>n.onHeaderClick(a,"ascend"===t.sort.direction?"descend":"ascend")},null,8,["class","onClick"])])))),128)),(r(!0),o(l,null,i(t.data,((e,a)=>(r(),o(l,null,[(r(!0),o(l,null,i(t.columns,((t,n)=>(r(),o("span",{key:n+a,class:"row"},d(e[n]),1)))),128))],64)))),256))],4)}));de.render=ve,de.__scopeId="data-v-21293a80";var pe={props:{modelValue:Number,total:Number,size:Number},setup:(e,{emit:t})=>({onClick:function(e){t("update:modelValue",e)},totalPage:a((()=>Math.ceil(e.total/e.size)))})};const fe=v("data-v-d4f745fc");p("data-v-d4f745fc");const me={style:{display:"flex",margin:"10px 0"}};f();const ge=fe(((e,a,t,n,s,c)=>(r(),o("div",me,[(r(!0),o(l,null,i(Array(n.totalPage),((e,a)=>(r(),o("div",{class:["page-item",t.modelValue===a+1?"active":""],key:a,onClick:e=>n.onClick(a+1)},d(a+1),11,["onClick"])))),128))]))));pe.render=ge,pe.__scopeId="data-v-d4f745fc";const ye={key:"index",name:"name",age:"age",address:"address",score:"score"},ke=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",score:5},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",score:2},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",score:1},{key:"4",name:"Am",age:22,address:"Sidney No. 1 Lake Park",score:8},{key:"5",name:"Joe Red",age:19,address:"Sidney No. 1 Lake Park",score:6},{key:"6",name:"Joe Dendi",age:39,address:"Sidney No. 1 Lake Park",score:0}];var he={components:{MyTable:de,Pagination:pe},setup(){const{pagedData:r,page:o,total:s,search:c,sort:l}=function(r,o){const{page:s,sort:c,search:l}=se({},ce,o),i=e(r)?r:a((()=>r)),u=t(s),d=t(c),v=t(l),p=F((()=>v.value.text),{wait:500}),f=a((()=>{let e=[...i.value];const a=p.value.trim();return a&&(e=e.filter((e=>{var t;let n="";if(n=(null==(t=v.value.keys)?void 0:t.length)?v.value.keys.map((a=>e[a])).join(" "):JSON.stringify(e),v.value.isReg)try{return Boolean(n.match(new RegExp(a)))}catch(r){}return n.toLocaleLowerCase().includes(a.toLocaleLowerCase())}))),d.value.key&&e.sort(((e,a)=>{const t=d.value.key,n=d.value.compareFn(e[t],a[t]);return"ascend"===d.value.direction?n:-1*n})),e})),m=a((()=>f.value.length)),g=a((()=>{let e=[...f.value];const a=(u.value.index-1)*u.value.size,t=a+u.value.size;return e=e.slice(a,t),e}));return n((()=>r),(()=>{v.value.text=""})),n((()=>u.value.size),(()=>{u.value.index=1}),{immediate:!1}),n((()=>f.value),(()=>{u.value.index=1})),{data:i,page:u,search:v,sort:d,pagedData:g,total:m}}(ke,{page:{size:5},sort:{key:"score",direction:"descend"}});return{pagedData:r,page:o,total:s,columns:ye,search:c,sort:l}}};const be={style:{"margin-bottom":"12px"}};he.render=function(e,a,t,n,l,i){const u=c("MyTable"),d=c("Pagination");return r(),o("div",null,[s("div",be,[m(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.search.text=e),placeholder:"search"},null,512),[[g,n.search.text]])]),s(u,{columns:n.columns,data:n.pagedData,sort:n.sort},null,8,["columns","data","sort"]),s(d,{modelValue:n.page.index,"onUpdate:modelValue":a[2]||(a[2]=e=>n.page.index=e),total:n.total,size:n.page.size},null,8,["modelValue","total","size"])])};export{he as _};
